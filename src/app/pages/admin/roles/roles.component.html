<div class="card">
  <h2>Gestión de Roles</h2>

  <!-- Tabla PrimeNG -->
  <p-table [value]="roles" dataKey="id" [paginator]="true" [rows]="5" responsiveLayout="scroll">
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Acciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-role>
      <tr>
        <td>{{ role.id }}</td>
        <td>{{ role.name }}</td>
        <td>
          <p-button icon="pi pi-pencil" styleClass="p-button-text p-button-sm" (onClick)="startEdit(role)"></p-button>
          <p-button icon="pi pi-trash" styleClass="p-button-danger p-button-text p-button-sm" (onClick)="delete(role.id)"></p-button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <!-- Botón para crear nuevo rol -->
  <div class="mt-3">
    <p-button label="Nuevo Rol" icon="pi pi-plus" (onClick)="startCreate()"></p-button>
  </div>
</div>

<!-- Dialog PrimeNG para crear/editar -->


<p-dialog header="{{ isEditing ? 'Editar Rol' : 'Crear Rol' }}" [(visible)]="showDialog" [modal]="true" [style]="{width: '30rem'}">
  <form [formGroup]="form" (ngSubmit)="save()">
    <div class="p-fluid">
      <div class="field flex items-center gap-4 mb-4">
        <label for="name font-semibold w-24">Nombre</label>
        <input pInputText formControlName="name" id="name" class="flex-auto p-3" autocomplete="off" />
      </div>
    </div>
    <div class="flex justify-content-end gap-2 mt-3">
      <p-button label="Cancelar" icon="pi pi-times" styleClass="p-button-text" (onClick)="cancel()" type="button" severity="secondary"></p-button>
      <p-button label="{{ isEditing ? 'Actualizar' : 'Crear' }}" icon="pi pi-check" type="submit"></p-button>
    </div>
  </form>
</p-dialog>


